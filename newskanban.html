<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AI å¤§æ¨¡å‹æ—¥æŠ¥ Â· ç§‘æŠ€é£çœ‹æ¿ï¼ˆç¦»çº¿è¶‹åŠ¿ï¼‰</title>

<!-- å¯æŒ‰éœ€ä¿®æ”¹ä¸ºä»“åº“ç›¸å¯¹è·¯å¾„ï¼Œä¾‹å¦‚ /news-kanban-site/assets/trends/trends.json -->
<meta name="trends-json-path" content="./assets/trends/trends.json" />

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:#f6f9fc;color:#1a1a1a;line-height:1.65;-webkit-font-smoothing:antialiased;}
::-webkit-scrollbar{width:8px;} ::-webkit-scrollbar-thumb{background:rgba(0,0,0,.18);border-radius:4px;}
.topbar{position:sticky;top:0;z-index:20;background:rgba(255,255,255,.66);backdrop-filter:blur(14px);border-bottom:1px solid rgba(255,255,255,.45);box-shadow:0 4px 16px rgba(0,0,0,.05);padding:14px 20px;display:flex;justify-content:space-between;align-items:center;}
.top-title{font-size:20px;font-weight:600;background:linear-gradient(92deg,#3a6cf4,#7a5cff,#00b7ff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:.4px;}
.tabs{display:flex;gap:10px;}
.tab{padding:8px 16px;border-radius:10px;font-size:14px;cursor:pointer;transition:.25s;border:1px solid rgba(255,255,255,.5);background:rgba(255,255,255,.55);backdrop-filter:blur(10px);}
.tab.active{background:linear-gradient(135deg,#5b7cfa,#8a5cff,#1ecbff);color:#fff;border:none;box-shadow:0 0 12px rgba(72,129,255,.45);}
.container{max-width:960px;margin:70px auto 40px;padding:0 16px;}
.trend-panel{margin-bottom:20px;}
.trend-tools{display:flex;gap:10px;align-items:center;justify-content:flex-end;margin:8px 2px 10px;}
.trend-tools select{padding:6px 10px;border-radius:8px;border:1px solid #e5e7eb;background:#fff;}
.trend-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:14px;}
@media(max-width:860px){ .trend-grid{ grid-template-columns:1fr; } }
.tcard{background:rgba(255,255,255,.75);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.7);border-radius:14px;overflow:hidden;box-shadow:0 6px 18px rgba(0,0,0,.06);}
.thead{padding:10px 12px;font-weight:600;font-size:14px;border-bottom:1px solid #eef2f7;background:#fafcff;}
.twrap{position:relative;height:300px;padding:10px 12px;} .twrap canvas{width:100%;height:100%;}
.card{background:rgba(255,255,255,.75);backdrop-filter:blur(12px);border:1px solid rgba(255,255,255,.7);border-radius:14px;padding:20px 22px;margin-bottom:16px;box-shadow:0 6px 20px rgba(0,0,0,.06);transition:all .25s ease;}
.card:hover{transform:translateY(-3px);box-shadow:0 10px 26px rgba(0,0,0,.08);} .card h3{font-size:17px;margin-bottom:8px;font-weight:600;} .card .meta{font-size:13px;color:#666;margin-bottom:8px;} .card p{color:#2d2d2d;font-size:15px;}
.accordion{margin-top:10px;} .accordion-header{cursor:pointer;padding:14px 16px;background:rgba(255,255,255,.65);backdrop-filter:blur(10px);border-radius:12px;border:1px solid rgba(255,255,255,.7);box-shadow:0 4px 14px rgba(0,0,0,.05);font-weight:600;display:flex;justify-content:space-between;align-items:center;transition:.25s;margin-bottom:8px;}
.accordion-header:hover{background:rgba(255,255,255,.9);} .accordion-content{display:none;padding:12px 0 4px 0;animation:fadeIn .3s ease;}
@keyframes fadeIn{from{opacity:0;}to{opacity:1;}} .section{display:none;} .section.active{display:block;animation:fadeIn .35s ease;}
.fallback{color:#9aa0a6;font-size:12px;padding:12px;text-align:center;}
</style>
</head>

<body>
<noscript style="display:block;padding:12px 16px;margin:16px;background:#fff0f0;border:1px solid #ffd0d0;color:#a00;border-radius:10px;">
  æœ¬é¡µéœ€è¦å¯ç”¨ JavaScript æ‰èƒ½æ˜¾ç¤ºå†…å®¹ã€‚
</noscript>

<!-- å®‰å…¨å†…è”æ–°é—» JSONï¼ˆé¿å…æ¨¡æ¿å­—ç¬¦ä¸²/å¼•å·é—®é¢˜ï¼‰ -->
<script id="page-data" type="application/json">{"today":[],"yesterday":[{"title":"OpenAI æ¨å‡ºæ–°å¼æ£€ç´¢å·¥å…·ï¼Œæ”¯æŒä¼ä¸šçº§ç§æœ‰å‘é‡åº“ç›´è¿","recap":"é¢å‘ä¼ä¸šå·¥ä½œè´Ÿè½½çš„æ£€ç´¢ä¸æƒé™æ§åˆ¶èƒ½åŠ›å‡çº§ï¼Œæå‡è·¨å›¢é˜ŸçŸ¥è¯†åº“çš„è¦†ç›–ä¸å®æ—¶æ€§ã€‚","section":"äºŒã€äº§å“/æŠ€æœ¯åŠ¨æ€","source":"OpenAI","date":"2025-11-05 18:20","link":"https://news.example.com/openai-retrieval","dedup_key":"demo-today-1"},{"title":"ç™¾åº¦æ™ºèƒ½äº‘å‘å¸ƒå¤§æ¨¡å‹è¡Œä¸šå¥—ä»¶ v2.1","recap":"æ–°å¢åˆ¶é€ ã€é‡‘èä¸¤å¥—è¡Œä¸š Prompt Packï¼Œæ”¯æŒä¼ä¸šçŸ¥è¯†è’¸é¦ä¸ç°åº¦è¯„ä¼°ã€‚","section":"äºŒã€äº§å“/æŠ€æœ¯åŠ¨æ€","source":"Baidu AI Cloud","date":"2025-11-05 19:05","link":"https://news.example.com/baidu-suite","dedup_key":"demo-today-2"},{"title":"éº¦è‚¯é”¡å‘å¸ƒ 2026 ä¼ä¸šçº§ Agent é‡‡ç”¨ç‡å±•æœ›","recap":"é¢„è®¡å¤´éƒ¨è¡Œä¸šå°†ç‡å…ˆè¿›å…¥è§„æ¨¡åŒ–è½åœ°é˜¶æ®µï¼ŒROI ä¸»è¦æ¥è‡ªæµç¨‹è‡ªåŠ¨åŒ–ä¸çŸ¥è¯†åä½œã€‚","section":"ä¸€ã€æƒå¨è§‚ç‚¹/æŠ¥å‘Š","source":"McKinsey","date":"2025-11-05 20:10","link":"https://news.example.com/mck-agent-outlook","dedup_key":"demo-today-3"},{"title":"åä¸ºäº‘å®£å¸ƒä¸ç”Ÿæ€ä¼™ä¼´æˆç«‹è”åˆåˆ›æ–°åŸºé‡‘","recap":"èšç„¦ç®—åŠ›-æ¨¡å‹-åº”ç”¨ä¸€ä½“åŒ–ï¼ŒåŠ é€Ÿé‡ç‚¹è¡Œä¸šçš„åŸå‹éªŒè¯ä¸è§„æ¨¡å¤åˆ¶ã€‚","section":"ä¸‰ã€èµ„æœ¬å¸‚åœºåŠ¨æ€åŠä¼ä¸šæˆ˜ç•¥å¸ƒå±€","source":"Huawei Cloud","date":"2025-11-05 21:40","link":"https://news.example.com/huawei-fund","dedup_key":"demo-today-4"},{"title":"Anthropicï¼šå®‰å…¨å¯¹é½æœ€ä½³å®è·µ 2025 å¹´åº¦æ›´æ–°","recap":"æå‡ºå¯æ“ä½œçš„çº¢é˜Ÿæµç¨‹ä¸è¯„ä¼°æŒ‡æ ‡ï¼Œæ¶µç›–å¤šè§’è‰²å¯¹è¯ä¸å·¥å…·è°ƒç”¨åœºæ™¯ã€‚","section":"ä¸€ã€æƒå¨è§‚ç‚¹/æŠ¥å‘Š","source":"Anthropic","date":"2025-11-05 00:15","link":"https://news.example.com/anthropic-safety","dedup_key":"demo-yest-1"},{"title":"è…¾è®¯äº‘å‡çº§ AI åŸç”Ÿåº”ç”¨ç”Ÿæ€è®¡åˆ’","recap":"é¢å‘ ISV ä¸åˆåˆ›ä¼ä¸šæä¾›æµé‡æ‰¶æŒä¸è¡Œä¸š PoC åŸºé‡‘ã€‚","section":"å››ã€å“ç‰Œä¸å¸‚åœºåŠ¨ä½œ","source":"Tencent Cloud","date":"2025-11-05 02:05","link":"https://news.example.com/tencent-eco","dedup_key":"demo-yest-3"}],"before":[{"title":"é˜¿é‡Œäº‘ Qwen æ¨å‡ºä¼ä¸šçŸ¥è¯†åŠ©æ‰‹æ–¹æ¡ˆ","recap":"ä¸ DingTalkã€ä¼ä¸šç›˜æ·±åº¦é›†æˆï¼Œæ”¯æŒå¤šè¯­ç§ä¸åˆè§„ç•™ç—•ã€‚","section":"äºŒã€äº§å“/æŠ€æœ¯åŠ¨æ€","source":"Alibaba Cloud","date":"2025-11-04 17:30","link":"https://news.example.com/qwen-assistant","dedup_key":"demo-yest-2"}]}</script>

<div class="topbar">
  <div class="top-title">AI å¤§æ¨¡å‹æ—¥æŠ¥</div>
  <div class="tabs">
    <div class="tab active" data-target="today">ä»Šæ—¥</div>
    <div class="tab" data-target="yesterday">æ˜¨æ—¥</div>
    <div class="tab" data-target="before">å‰æ—¥</div>
  </div>
</div>

<div class="container">
  <!-- è¶‹åŠ¿çœ‹æ¿ï¼ˆç¦»çº¿ JSON + Chart.jsï¼‰ -->
  <section id="trends" class="trend-panel">
    <div class="accordion">
      <div class="accordion-header" data-acc="trends-acc">ğŸ“ˆ è¶‹åŠ¿çœ‹æ¿ï¼ˆç¦»çº¿ JSON æ¸²æŸ“ Â· ç¨³å®šï¼‰</div>
      <div class="accordion-content" id="trends-acc">
        <div class="trend-tools">
          <label style="font-size:12px;color:#666">æ—¶é—´èŒƒå›´</label>
          <select id="trend-time">
            <option value="now 7-d" selected>è¿‘ 7 å¤©</option>
            <option value="today 3-m">è¿‘ 90 å¤©</option>
            <option value="today 12-m">è¿‘ 12 ä¸ªæœˆ</option>
          </select>
        </div>
        <div class="trend-grid">
          <div class="tcard"><div class="thead">ğŸŒ å›½å¤–å¤§æ¨¡å‹</div><div class="twrap"><canvas id="c-foreign"></canvas></div></div>
          <div class="tcard"><div class="thead">ğŸ‡¨ğŸ‡³ å›½å†…å¤§æ¨¡å‹</div><div class="twrap"><canvas id="c-domestic"></canvas></div></div>
          <div class="tcard"><div class="thead">â˜ï¸ å›½å†…äº‘å‚å•†</div><div class="twrap"><canvas id="c-vendors"></canvas></div></div>
          <div class="tcard"><div class="thead">ğŸ”‘ AI å¸‚åœºå…³é”®è¯</div><div class="twrap"><canvas id="c-market"></canvas></div></div>
        </div>
        <div id="trend-fallback" class="fallback" style="display:none;">æ— æ³•åŠ è½½è¶‹åŠ¿æ•°æ®ï¼ˆtrends.json ä¸å­˜åœ¨æˆ–ç½‘ç»œå¼‚å¸¸ï¼‰ã€‚</div>
      </div>
    </div>
  </section>

  <!-- ä»Šæ—¥ -->
  <div id="today" class="section active">
    <h2 style="margin:6px 0 14px;">ğŸ“Œ ä»Šæ—¥é‡ç‚¹èµ„è®¯</h2>
    <div id="today-content"></div>
  </div>

  <!-- æ˜¨æ—¥ -->
  <div id="yesterday" class="section">
    <div class="accordion">
      <div class="accordion-header" data-acc="yest-acc">ğŸ—“ï¸ æ˜¨æ—¥èµ„è®¯ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</div>
      <div class="accordion-content" id="yest-acc"><div id="yesterday-content"></div></div>
    </div>
  </div>

  <!-- å‰æ—¥ -->
  <div id="before" class="section">
    <div class="accordion">
      <div class="accordion-header" data-acc="before-acc">ğŸ“… å‰æ—¥èµ„è®¯ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</div>
      <div class="accordion-content" id="before-acc"><div id="before-content"></div></div>
    </div>
  </div>
</div>

<!-- Chart.jsï¼ˆå¯æ”¹ä¸ºæœ¬åœ°ï¼š./assets/libs/chart.umd.min.jsï¼‰ -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
// è¯»å–æ–°é—» JSON
let pageData = { today:[], yesterday:[], before:[] };
try{
  const raw = document.getElementById('page-data')?.textContent || '{}';
  pageData = JSON.parse(raw);
}catch(e){ console.error('parse page-data failed', e); }

// Tabs
document.querySelectorAll(".tab").forEach(tab=>{
  tab.addEventListener("click",()=>{
    document.querySelectorAll(".tab").forEach(t=>t.classList.remove("active"));
    tab.classList.add("active");
    const target=tab.dataset.target;
    document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
    document.getElementById(target).classList.add("active");
  });
});

// æŠ˜å 
document.querySelectorAll(".accordion-header").forEach(header=>{
  header.addEventListener("click",()=>{
    const id=header.getAttribute("data-acc");
    const content=document.getElementById(id);
    content.style.display = content.style.display==="block" ? "none" : "block";
  });
});

// æ¸²æŸ“æ–°é—»å¡ç‰‡ï¼ˆå¤±è´¥ä¹Ÿåªå½±å“è¶‹åŠ¿ï¼Œä¸å½±å“æ–°é—»ï¼‰
function esc(s){return String(s==null?'':s).replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));}
function renderCards(data, containerId){
  const el=document.getElementById(containerId);
  if(!el) return;
  el.innerHTML = (data||[]).map(item=>{
    const title = esc(item.title||'');
    const src   = esc(item.source||'');
    const when  = esc(item.date||'');
    const recap = esc(item.recap||'');
    const link  = item.link ? '<a href="'+esc(item.link)+'" target="_blank" rel="noopener">'+title+'</a>' : title;
    return '<div class="card"><h3>'+link+'</h3><div class="meta">æ¥æºï¼š'+src+' Â· '+when+'</div>'+(recap?'<p>'+recap+'</p>':'')+'</div>';
  }).join("");
}
renderCards(pageData.today,"today-content");
renderCards(pageData.yesterday,"yesterday-content");
renderCards(pageData.before,"before-content");

// Chart.js è¶‹åŠ¿ï¼ˆç¦»çº¿ JSONï¼‰
(function mountTrends(){
  const FBF = document.getElementById('trend-fallback');
  function trendsPath(){
    const meta = document.querySelector('meta[name="trends-json-path"]');
    if (meta && meta.content) return meta.content;
    // â€”â€” ä¿®æ­£ï¼šä½¿ç”¨æ­£ç¡®çš„æ­£åˆ™å»æ‰æœ€åä¸€ä¸ªâ€œæ–‡ä»¶åâ€ â€”â€” //
    const base = location.pathname.replace(//[^/]*$/, '/');
    return base + 'assets/trends/trends.json';
  }
  function buildCfg(labels, series){
    return {
      type:'line',
      data:{ labels, datasets:(series||[]).map(s=>({label:s.name,data:s.data,tension:.25,pointRadius:0,borderWidth:2})) },
      options:{
        responsive:true, maintainAspectRatio:false,
        plugins:{ legend:{ position:'bottom' } },
        scales:{ x:{ ticks:{ maxTicksLimit:6 } }, y:{ beginAtZero:true } }
      }
    };
  }
  let charts = {};
  async function loadAndRender(range){
    try{
      if (!window.Chart){ FBF.style.display='block'; FBF.textContent='Chart.js æœªåŠ è½½'; return; }
      const url = trendsPath() + '?ts=' + Date.now();
      const res = await fetch(url);
      if (!res.ok) throw new Error('fetch trends.json failed: '+res.status);
      const data = await res.json(); // {panels:{foreign:{'now 7-d':{labels,series},...},...}}
      const panels = data.panels || {};
      const ctx = {
        foreign : document.getElementById('c-foreign')?.getContext('2d'),
        domestic: document.getElementById('c-domestic')?.getContext('2d'),
        vendors : document.getElementById('c-vendors')?.getContext('2d'),
        market  : document.getElementById('c-market')?.getContext('2d'),
      };
      ['foreign','domestic','vendors','market'].forEach(k=>{
        const pack = panels[k]?.[range];
        if (!pack || !ctx[k]) return;
        if (charts[k]) charts[k].destroy();
        charts[k] = new Chart(ctx[k], buildCfg(pack.labels, pack.series));
      });
      FBF.style.display='none';
    }catch(e){
      console.error(e);
      FBF.style.display='block';
      FBF.textContent='æ— æ³•åŠ è½½è¶‹åŠ¿æ•°æ®ï¼ˆtrends.json ä¸å­˜åœ¨æˆ–ç½‘ç»œå¼‚å¸¸ï¼‰ã€‚';
    }
  }
  const sel = document.getElementById('trend-time');
  const initRange = sel?.value || 'now 7-d';
  loadAndRender(initRange);
  sel?.addEventListener('change',()=> loadAndRender(sel.value||'now 7-d'));
})();
</script>
</body>
</html>